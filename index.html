<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>monotreme comms</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
</head>

<style>
    div {
        width: 100vw;
        background-color: #fffbe2;
        color: black;
    }
    textarea {
        width: 100vw;
    }
</style>

<body>
    <p id="e">text to encode:</p>
    <textarea id="encode"></textarea>
    <div id="showEncoding"></div>
    <p id="d">text to decode:</p>
    <textarea id="decode"></textarea>
    <div id="showDecoding"></div>
    <!--<button id="clear">clear text</button>-->
</body>

<script>
    var Encoder = function () {

//        $('#clear').on('click', function() {
//            $('#showDecoding, #showEncoding').remove();
//            $('#e').append('<textarea id="encode"></textarea>');
//            $('#d').append('<textarea id="decode"></textarea>');
//        });

        $('#encode').on('keyup', function(e) {
            // e.preventDefault();
            if (e.keyCode === 32) {
                $('#showEncoding').append(' ');
            } else if (e.keyCode === 8) {
                console.log("backspace ignored");
            } else {
                switch(e.key) {
                    case 'a': $('#showEncoding').append('l'); break;
                    case 'b': $('#showEncoding').append('v'); break;
                    case 'c': $('#showEncoding').append('x'); break;
                    case 'd': $('#showEncoding').append('s'); break;
                    case 'e': $('#showEncoding').append('w'); break;
                    case 'f': $('#showEncoding').append('d'); break;
                    case 'g': $('#showEncoding').append('f'); break;
                    case 'h': $('#showEncoding').append('g'); break;
                    case 'i': $('#showEncoding').append('u'); break;
                    case 'j': $('#showEncoding').append('h'); break;
                    case 'k': $('#showEncoding').append('j'); break;
                    case 'l': $('#showEncoding').append('k'); break;
                    case 'm': $('#showEncoding').append('n'); break;
                    case 'n': $('#showEncoding').append('b'); break;
                    case 'o': $('#showEncoding').append('i'); break;
                    case 'p': $('#showEncoding').append('o'); break;
                    case 'q': $('#showEncoding').append('p'); break;
                    case 'r': $('#showEncoding').append('e'); break;
                    case 's': $('#showEncoding').append('a'); break;
                    case 't': $('#showEncoding').append('r'); break;
                    case 'u': $('#showEncoding').append('y'); break;
                    case 'v': $('#showEncoding').append('c'); break;
                    case 'w': $('#showEncoding').append('q'); break;
                    case 'x': $('#showEncoding').append('z'); break;
                    case 'y': $('#showEncoding').append('t'); break;
                    case 'z': $('#showEncoding').append('m'); break;
                    default : $('#showEncoding').append('*');
                }
            }
        });

        $('#decode').on('keyup', function(d) {
            // d.preventDefault();
                switch(d.keyCode) {
                    case 65: $('#showDecoding').append('s'); break;
                    case 66: $('#showDecoding').append('n'); break;
                    case 67: $('#showDecoding').append('v'); break;
                    case 68: $('#showDecoding').append('f'); break;
                    case 69: $('#showDecoding').append('r'); break;
                    case 70: $('#showDecoding').append('g'); break;
                    case 71: $('#showDecoding').append('h'); break;
                    case 72: $('#showDecoding').append('j'); break;
                    case 73: $('#showDecoding').append('o'); break;
                    case 74: $('#showDecoding').append('k'); break;
                    case 75: $('#showDecoding').append('l'); break;
                    case 76: $('#showDecoding').append('a'); break;
                    case 77: $('#showDecoding').append('z'); break;
                    case 78: $('#showDecoding').append('m'); break;
                    case 79: $('#showDecoding').append('p'); break;
                    case 80: $('#showDecoding').append('q'); break;
                    case 81: $('#showDecoding').append('w'); break;
                    case 82: $('#showDecoding').append('t'); break;
                    case 83: $('#showDecoding').append('d'); break;
                    case 84: $('#showDecoding').append('y'); break;
                    case 85: $('#showDecoding').append('i'); break;
                    case 86: $('#showDecoding').append('b'); break;
                    case 87: $('#showDecoding').append('e'); break;
                    case 88: $('#showDecoding').append('c'); break;
                    case 89: $('#showDecoding').append('u'); break;
                    case 90: $('#showDecoding').append('x'); break;
                    case 32: $('#showDecoding').append(' '); break;
                    case 8 : console.log("backspace ignored");
                    default: $('#showDecoding').append('*');
                }
        });
    };
    $(document).ready(Encoder);

</script>

</html>